# 1	SQL

## 1.1	概述

##### 什么是 SQL

- 

<br>

##### SQL 的种类

- 为什么会有多种 SQL
- 常见的 SQL 种类

<br>

##### 不同 SQL 之间的区别

- 

<BR>



---

<div STYLE="page-break-after: always;"></div>

# Ⅰ	索引

## Ⅰ.1	索引失效

##### 最佳左前缀法则（❗待补完）

- ###### 原理

  - B-Tree

- ###### 体现

  - 将 % 放在右边将导致索引失效。
  - 创建多列联合索引时，列的顺序非常重要。B-Tree 联合索引组合顺序与创建时列的顺序是一样的，第一个字段列的顺序是确定的，其他列的顺序都是不确定的。**由于B-Tree 索引的限制，如果查询不是按照索引创建时的顺序，则无法使用索引**。<font size=1>（但是，如果在查询中 where 条件里存在联合索引的第一列，就算顺序不一致也是可以走索引的。这里是因为MySQL优化器会对查询重新排序。）</font>

<br>

##### 其他可能导致索引失效的条件

- ###### IN 与 NOT IN

  - IN 和 NOT IN 可能会导致索引失效，从而使用全表扫描。<font size=1>（MySQL优化器会选择代价最小的方式执行，IN和NOT IN 都可能索引失效，不是绝对的）</font>

- ###### IS NULL 与 IS NOT NULL

  - is null，is not null可能导致索引失效。

- ###### 未隐式转换 WHERE 后面的列

  - WHERE 后面的列要注意隐式转换，会导致索引失效。<font size=1>（比如 where value = 1024 与 where value = '1024'，由于不加单引号时，是字符串跟数字的比较，它们类型不匹配，MySQL 会进行隐式的类型转换，最后导致索引失效。）</font>

- 

---

<div STYLE="page-break-after: always;"></div>

# Ⅱ	通用技巧

##### SELECT 语句中应该尽量避免使用 *

- 查询应尽可能只返回必要数据，减小通信数据包的和数量，提高效率。
- 查询所有字段时，使用 * 和使用全字段的效率差别不大。但是，根据 * 的实现原理，使用全字段的效率高于使用 * 。

<br>

##### SELECT 语句应当加上 LIMIT 限制

- 如果表的数据量过于巨大，不适用 LIMIT 限制可能会导致查询返回的数据量超出处理能力。
- 对于大量的数据，用户不可能一次性浏览完毕，将数据全部查询出来没有必要。

<br>

##### 慎用 IN 与 NOT IN

- 

<br>



##### 不要在索引列上进行任何操作

- 如果索引列存在计算、函数、类型转换，会导致索引失效进行全表扫描。

<br>



# 附录

##### 最后编辑时间

- 2021/03/31

##### 环境

- 

##### 参考资料

- 

##### 相关资料

- 

##### 代码链接

[1]:

##### 锚点

[](#1) 

##### 脚注

[^xxx]: 