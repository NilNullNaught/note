# Java

## åŒ¿åå‡½æ•°

##### åŒ¿åå‡½æ•°ä¸é—­åŒ…ä¹‹é—´çš„åŒºåˆ«

- åŒ¿åå‡½æ•°ï¼šå®šä¹‰æ—¶æœªå®šä¹‰å‡½æ•°çš„åç§°
- é—­åŒ…ï¼š åˆ›å»ºæ—¶å°è£…å‘¨å›´çŠ¶æ€çš„å‡½æ•°ï¼ŒåŠæ—¶å‘¨å›´çš„ç¯å¢ƒä¸å­˜åœ¨äº†ï¼Œé—­åŒ…ä¸­çš„çŠ¶æ€è¿˜ä¼šå­˜åœ¨ã€‚

ä»ç†è®ºä¸Šè®² åŒ¿åå‡½æ•°å’Œé—­åŒ…å±äºä¸¤ç§æ¦‚å¿µï¼ŒPHPä¸­è§†ä¸ºç›¸åŒ

<br>

### åŒ¿åå‡½æ•°çš„å¥½å¤„

1. éåŒ¿åå‡½æ•°åœ¨å®šä¹‰æ—¶å°±åˆ›å»ºå‡½æ•°å¯¹è±¡å’Œä½œç”¨åŸŸå¯¹è±¡ã€‚ä¹‹åå°±ç®—æœªè°ƒç”¨ï¼Œä¹Ÿå ç©ºé—´ã€‚
2. åŒ¿åå‡½æ•°åªæœ‰åœ¨è°ƒç”¨æ—¶ï¼Œæ‰ä¼šåˆ›å»ºå‡½æ•°å¯¹è±¡å’Œä½œç”¨åŸŸå¯¹è±¡ã€‚è°ƒç”¨å®Œåç«‹å³é‡Šæ”¾ï¼ŒèŠ‚çœå†…å­˜ã€‚é€‚åˆåšå›è°ƒå‡½æ•°ã€‚

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## â­•ä½¿ç”¨ try with resource å…³é—­èµ„æº

##### æ—§ç‰ˆçš„èµ„æºå…³é—­æ–¹æ³•

åœ¨æ—§ç‰ˆçš„å†™æ³•ä¸­ï¼Œèµ„æºéƒ½æ”¾åœ¨ finally å—é‡Œè¿›è¡Œå…³é—­ï¼Œå¦‚ä¸‹ï¼š

```java
        InputStream inputStream = null;
        try {
            inputStream = new FileInputStream("ã€ResourceLocationã€‘");
            byte[] bytes = inputStream.readAllBytes();
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            if (inputStream != null) {
                try {
                    inputStream.close();
                } catch (IOException e) {
                    e.printStackTrace();
                }
            }
        }
```

è¿™ç§å†™æ³•çš„éº»çƒ¦ä¹‹å¤„åœ¨äºï¼Œæˆ‘ä»¬éœ€è¦åœ¨ finally å—ä¸­å…³é—­èµ„æºï¼Œæ‰€ä»¥ inputStream åªèƒ½å®šä¹‰åœ¨ `try` å—çš„å¤–é¢ã€‚å…³é—­ä¹‹å‰ï¼Œè¿˜éœ€è¦åšä¸€æ­¥åˆ¤ç©ºï¼Œé¿å…å› ä¸º inputStream ä¸ºç©ºè€Œå¯¼è‡´çš„ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚è¿™ç§å†™æ³•æ˜¯å¾ˆç¹ççš„ã€‚

<br>

##### try-with-resources

try-with-resources æ˜¯ JDK 7 ä¸­ä¸€ä¸ªæ–°çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œå®ƒèƒ½å¤Ÿå¾ˆå®¹æ˜“åœ°å…³é—­åœ¨ `try-catch` è¯­å¥å—ä¸­ä½¿ç”¨çš„èµ„æºã€‚æ‰€è°“çš„èµ„æºï¼ˆresourceï¼‰æ˜¯æŒ‡åœ¨ç¨‹åºå®Œæˆåï¼Œå¿…é¡»å…³é—­çš„å¯¹è±¡ã€‚try-with-resources è¯­å¥ç¡®ä¿äº†æ¯ä¸ªèµ„æºåœ¨è¯­å¥ç»“æŸæ—¶å…³é—­ã€‚æ‰€æœ‰å®ç°äº† java.lang.AutoCloseable æ¥å£ï¼ˆå…¶ä¸­ï¼Œå®ƒåŒ…æ‹¬å®ç°äº† `java.io.Closeable` çš„æ‰€æœ‰å¯¹è±¡ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ä½œä¸ºèµ„æºã€‚

try-with-resources å£°æ˜åœ¨ JDK 9 å·²å¾—åˆ°æ”¹è¿›ã€‚å¦‚æœä½ å·²ç»æœ‰ä¸€ä¸ªèµ„æºæ˜¯ final æˆ–ç­‰æ•ˆäº final å˜é‡,æ‚¨å¯ä»¥åœ¨ try-with-resources è¯­å¥ä¸­ä½¿ç”¨è¯¥å˜é‡ï¼Œè€Œæ— éœ€åœ¨ try-with-resources è¯­å¥ä¸­å£°æ˜ä¸€ä¸ªæ–°å˜é‡ã€‚

<br>

##### ä½¿ç”¨ try-with-resources å…³é—­èµ„æº

###### ä¾‹ä¸€

```java
   @Test
   public void test{
      try (
        Reader inputString = new StringReader(message);
      	BufferedReader br = new BufferedReader(inputString)
      ) {
         return br1.readLine();
      }
   }
```

###### ä¾‹äºŒ

åœ¨ Java 9 ä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦å£°æ˜èµ„æº br1 å°±å¯ä»¥ä½¿ç”¨å®ƒï¼Œå¹¶å¾—åˆ°ç›¸åŒçš„ç»“æœã€‚

```java
   @Test
   public void test{
      Reader 
      BufferedReader br = new BufferedReader(inputString);
      try (
          inputString = new StringReader(message);
          br new BufferedReader(inputString)
      ) {
         String s = br.readLine();
          System.out.println(s);
      }
   }
```

###### try-with-resources çš„è¯­æ³•

åœ¨ try å…³é”®å­—çš„åé¢è·Ÿä¸€ä¸ªæ‹¬å·ï¼ŒæŠŠéœ€è¦å…³é—­çš„èµ„æºå®šä¹‰åœ¨æ‹¬å·å†…ã€‚åœ¨ try å—æ‰§è¡Œå®Œä¹‹åä¼šè‡ªåŠ¨çš„é‡Šæ”¾æ‰èµ„æºã€‚

###### ä»€ä¹ˆèµ„æºå¯ä»¥è¢« try-with-resources è‡ªåŠ¨å…³é—­

å¹¶ä¸æ˜¯æ‰€æœ‰èµ„æºéƒ½å¯ä»¥è¢« try-with-resources è‡ªåŠ¨å…³é—­çš„ï¼Œåªæœ‰å®ç°äº† java.lang.AutoCloseable æ¥å£çš„ç±»ï¼Œæ‰å¯ä»¥è¢«è‡ªåŠ¨å…³é—­ã€‚å¦‚æœæ²¡æœ‰å®ç° java.lang.AutoCloseable çš„ç±»å®šä¹‰åœ¨tryçš„æ‹¬å·å†…ï¼Œåˆ™ä¼šåœ¨ç¼–è¯‘å™¨å°±æŠ¥é”™ã€‚

<br>

##### è‡ªå®šä¹‰å¯ä»¥è¢«è‡ªåŠ¨å…³é—­çš„ç±»

å¯ä»¥æŠŠè‡ªå·±çš„ç±»ç¼–å†™ä¸ºå¯ä»¥è¢« `try-with-resources` è‡ªåŠ¨å…³é—­çš„ç±»ï¼Œåªéœ€å®ç° `java.lang.AutoCloseable` æ¥å£å³å¯ã€‚

```
class MyResource implements java.lang.AutoCloseable{
	
	@Override
	public void close() {
		...ä¸€äº›é€»è¾‘
		System.out.println("è°ƒç”¨äº†closeæ–¹æ³•");
	}
}
```

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

# Mysql 

## â“æ‰‹æœºå·å­—æ®µçš„è®¾ç½®

###### é—®é¢˜

```
  `mobile` varchar(11) CHARACTER SET utf16 COLLATE utf16_general_ci DEFAULT '' COMMENT 'æ‰‹æœºå·',
```

###### å‡ºå¤„

å°šç¡…è°·_è°·ç²’å­¦è‹‘-å¾®æœåŠ¡+å…¨æ ˆåœ¨çº¿æ•™è‚²å®æˆ˜é¡¹ç›®ï¼Œmysql æ•°æ®è¡¨ `ucenter_member`

<br>

----

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## â­•ä½¿ç”¨ java.time.LocalDateTime ç±»å‹å­˜å‚¨æ—¶é—´æ—¶ï¼Œä¸å½“å‰æ—¶é—´å¯¹ä¸ä¸Š

#####  å‰ææ¡ä»¶

Mysql ç‰ˆæœ¬ Mysql 8+

<br>

##### ä¿®æ”¹ SqlURL

```yaml
jdbc:mysql://8.131.72.52:3306/NNNnote?useSSL=false&serverTimezone=Asia/Shanghai
```

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
## â­•è®¾ç½® Mysql æ•°æ®åº“é»˜è®¤è¿æ¥è¶…æ—¶æ—¶é—´

##### æ•°æ®åº“è¶…æ—¶é—®é¢˜

MySQLæ•°æ®åº“ä¸€èˆ¬é»˜è®¤çš„è¿æ¥è¶…æ—¶æ—¶é—´ä¸º28800s(å³8å°æ—¶)ï¼Œè¶…è¿‡8hï¼Œæ•°æ®åº“ä¼šæ–­å¼€è¿™ä¸ªè¿æ¥ã€‚åå°ç¨‹åºå‡ºç°ç±»ä¼¼â€œorg.hibernate.exception.JDBCConnectionException: could not extract ResultSetâ€é”™è¯¯

<br>

##### æŸ¥è¯¢æ•°æ®åº“è¿æ¥è¶…æ—¶æ—¶é—´

åœ¨mysqlå‘½ä»¤æç¤ºç¬¦ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥è¯¢è¿æ¥è¶…æ—¶æ—¶é—´ï¼š

```sql
SHOW GLOBAL VARIABLES LIKE '%timeout%';
```

![image-20220117181108342](img/image-20220117181108342.png)

<br>

##### è§£å†³æ–¹æ¡ˆ

###### æ–¹æ¡ˆ1ï¼ˆä¸´æ—¶æ–¹æ¡ˆï¼‰

åœ¨mysqlå‘½ä»¤æç¤ºç¬¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ï¼ˆä¸´æ—¶æ–¹æ³•ï¼Œé‡å¯MySQLæœåŠ¡å™¨ä¼šå¤±æ•ˆï¼Œæ¢å¤é»˜è®¤å€¼ï¼‰

```
SET GLOBAL wait_timeout=259200;
SET GLOBAL interactive_timeout=259200;
```

###### æ–¹æ¡ˆ2ï¼ˆæ…ç”¨ï¼‰

ä¿®æ”¹mysqlçš„é…ç½®æ–‡ä»¶ï¼ˆæ…ç”¨ï¼‰.æ­¤æ–¹æ³•è¦è°¨æ…ä½¿ç”¨ï¼Œå¦‚æœè¿™ä¸ªå€¼è®¾ç½®çš„å¤ªå¤§ï¼Œå°†å¯¼è‡´ç©ºé—²è¿æ¥è¿‡å¤šï¼Œç™½ç™½æ¶ˆè€—å†…å­˜ï¼›å¦‚æœè®¾ç½®çš„å¤ªå°ï¼Œå°±å¤±å»äº†mysqlè¶…æ—¶è‡ªåŠ¨é‡è¿çš„ä½œç”¨ã€‚åˆ°åº•éœ€è¦è®¾ç½®å¤šå¤§ï¼Œéš¾ä»¥ç•Œå®šã€‚

###### æ–¹æ¡ˆ3ï¼ˆæ¨èï¼‰

é€šè¿‡è®¾ç½®æ•°æ®åº“è¿æ¥æ± çš„è¿æ¥æœ€å¤§æ—¶é•¿è§£å†³ã€‚

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## â­•SpringBoot æ•°æ®åº“è¿æ¥æ± ï¼ˆHikariï¼‰å¸¸ç”¨é…ç½®

##### Hikari pool

https://github.com/brettwooldridge/HikariCP

<br>

##### å¸¸ç”¨é…ç½®

```properties
spring.datasource.type=com.zaxxer.hikari.HikariDataSource
# è¿æ¥æ± ä¸­å…è®¸çš„æœ€å°è¿æ¥æ•°ã€‚ç¼ºçœå€¼ï¼š10
spring.datasource.hikari.minimum-idle=10
# è¿æ¥æ± ä¸­å…è®¸çš„æœ€å¤§è¿æ¥æ•°ã€‚ç¼ºçœå€¼ï¼š10
spring.datasource.hikari.maximum-pool-size=100
# è‡ªåŠ¨æäº¤
spring.datasource.hikari.auto-commit=true
# ä¸€ä¸ªè¿æ¥idleçŠ¶æ€çš„æœ€å¤§æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œè¶…æ—¶åˆ™è¢«é‡Šæ”¾ï¼ˆretiredï¼‰ï¼Œç¼ºçœ:10åˆ†é’Ÿ
spring.datasource.hikari.idle-timeout=30000
# è¿æ¥æ± åå­—ï¼Œå¯ä»¥åœ¨æ—¥å¿—æˆ– JMX ä¸­åŒºåˆ†è¿æ¥æ± å’Œè¿æ¥æ± è®¾ç½®ï¼Œé»˜è®¤ä¸º auto-generated
spring.datasource.hikari.pool-name=FlyduckHikariCP
# ä¸€ä¸ªè¿æ¥çš„ç”Ÿå‘½æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œè¶…æ—¶è€Œä¸”æ²¡è¢«ä½¿ç”¨åˆ™è¢«é‡Šæ”¾ï¼ˆretiredï¼‰ï¼Œç¼ºçœ:30åˆ†é’Ÿï¼Œå»ºè®®è®¾ç½®æ¯”æ•°æ®åº“è¶…æ—¶æ—¶é•¿å°‘30ç§’ï¼ˆæ­¤å¤„ä¸º30åˆ†é’Ÿï¼‰
spring.datasource.hikari.max-lifetime=180000
# ç­‰å¾…è¿æ¥æ± åˆ†é…è¿æ¥çš„æœ€å¤§æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é•¿è¿˜æ²¡å¯ç”¨çš„è¿æ¥åˆ™å‘ç”ŸSQLExceptionï¼Œ ç¼ºçœ:30ç§’
spring.datasource.hikari.connection-timeout=30000
# æ•°æ®åº“è¿æ¥æµ‹è¯•è¯­å¥
spring.datasource.hikari.connection-test-query=SELECT 1
```

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
## â­•ä½¿ç”¨ Navicate æ‰“å¼€æ•°æ®åº“æ…¢

##### é—®é¢˜

Mysql æœåŠ¡å™¨ç«¯ä¼šå®šæ—¶æ¸…ç†é•¿æ—¶é—´ä¸æ´»è·ƒç©ºé—²çš„æ•°æ®åº“è¿æ¥ï¼Œä»¥æ­¤ä¼˜åŒ–æ•°æ®åº“çš„æ€§èƒ½ã€‚

Navicat å®¢æˆ·ç«¯æœ‰ä¸€ä¸ªè®¾ç½®ï¼šä¿æŒè¿æ¥é—´éš”ï¼Œé»˜è®¤æ˜¯240ç§’ï¼æ„æ€æ˜¯ï¼Œå®¢æˆ·ç«¯åœ¨ç”¨æˆ·æ— ä»»ä½•äº¤äº’æ€§æ“ä½œæ—¶ï¼Œä¼šæ¯éš”240ç§’ç»™MysqlæœåŠ¡ç«¯å‘é€ä¸€æ¬¡æ•°æ®è¯·æ±‚ã€‚ä»¥æ­¤æ¥ä¿æŒæ•°æ®åº“è¿æ¥æ´»è·ƒï¼

ç„¶è€ŒNavicatè®¾ç½®çš„å¿ƒè·³åŒ…é—´éš”å¤ªé•¿äº†ï¼ŒMysqlæœåŠ¡ç«¯ç›´æ¥å°†è¿æ¥æ¸…ç†æ‰äº†ã€‚å½“æˆ‘ä»¬æ‰“å¼€ä¸€å¼ è¡¨çš„æ—¶å€™ï¼ŒNavicatè¿˜æ˜¯ä½¿ç”¨æ—§çš„è¿æ¥å»è¯·æ±‚æ•°æ®ï¼Œå‘ç°æ—§çš„è¿æ¥è¶…æ—¶ä¸èƒ½ç”¨äº†ï¼Œæœ€ååˆç”³è¯·äº†ä¸€ä¸ªæ–°çš„è¿æ¥ï¼Œå†å»è¯·æ±‚æ•°æ®ï¼

æ‰€ä»¥å¯¼è‡´æˆ‘ä»¬æ‰“å¼€ä¸€å¼ è¡¨æ—¶é—´éœ€è¦æŒºä¹…çš„ï¼

 <br>

##### è§£å†³æ–¹æ¡ˆ

é€‰æ‹©æ•°æ®åº“è¿æ¥ â†’ ç¼–è¾‘è¿æ¥... â†’ é«˜çº§ â†’ã€‚è®¾ç½®ä¿æŒè¿æ¥é—´éš”ä¸º 60ã€‚

![image-20220117140422564](img/image-20220117140422564.png)

![image-20220117140551464](img/image-20220117140551464.png)

 <br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
# Mybatis-plus 

## ä¿®æ”¹æ„é€ å™¨ UpdateWrapper



---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

# æ—¥å¿—å¤„ç†

## â­•log çš„ debug()ã€ error()ã€ infoï¼ˆï¼‰æ–¹æ³•çš„åŒºåˆ«

##### Debug

- çº§åˆ«æœ€ä½ï¼Œä¸€èˆ¬åœ¨ç³»ç»Ÿå®é™…è¿è¡Œè¿‡ç¨‹ä¸­ä¸è¾“å‡ºã€‚

- å¦‚æœ log4j çš„é…ç½®ä¸­å¼€å¯debugçº§åˆ«æ—¥å¿—ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ‰“å°è¾“å‡ºdebugæ—¥å¿—ï¼Œå…¶åœ¨è¾“å‡ºæ—¥å¿—ä¸­ä¼šè¢«æ ‡è®°ä¸º[DEBUG].

- ä»»ä½•æœ‰åˆ©äºåœ¨è°ƒè¯•æ—¶æ›´è¯¦ç»†çš„äº†è§£ç³»ç»Ÿè¿è¡ŒçŠ¶æ€çš„ä¿¡æ¯ï¼ˆå¦‚å˜é‡çš„å€¼ï¼‰ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ debug() è¾“å‡ºã€‚

- å¯ä»¥éšæ„çš„ä½¿ç”¨ã€‚

- ä½¿ç”¨ log4j æ—¶è¦åŠ ä¸Š `if (log.isDebugEnabled())`ã€‚

  ```
  if (log.isDebugEnabled()) {
              log.debug(buildFullString());
  }
  ```

- ä½¿ç”¨logbackæ—¶ï¼Œä¸éœ€è¦ä»£ç é‡ŒåŠ  isDebugEnabledï¼Œlogback ä¼šè‡ªåŠ¨å¤„ç†

- ä½¿ç”¨ logback æ—¶ï¼Œinfo çº§åˆ«ä¸ä¼šå¤„ç† debug çº§åˆ«æ—¥å¿—ã€‚

<br>

##### ä¸ºä»€ä¹ˆä½¿ç”¨ debug() æ—¶è¦åŠ ä¸Š log.isDebugEnabled()

`log.debug()` åœ¨æ²¡æœ‰æŒ‡å®šè¾“å‡ºçº§åˆ«ä¸ºDEBUGæ—¶ä¸ä¼šæœ‰è¾“å‡ºï¼Œä¸ºä»€ä¹ˆè¿˜è¦åœ¨å‰é¢åŠ ä¸€ä¸ª `isDebugEnabled()` çš„åˆ¤æ–­ï¼Ÿâ€”â€”è¿™ä¸ªæ–¹æ³•ä¸€èˆ¬ç”¨åœ¨è®¤ä¸º `buildFullString()` æ•ˆç‡ä¸å¤ªé«˜çš„æƒ…å†µä¸‹ï¼Œé‚£ä¹ˆå¦‚æœç›´æ¥å†™ `log.debug(buildFullString());` çš„è¯ï¼Œè™½ç„¶å®ƒä¸ä¼šæ‰“å°è¯­å¥ï¼Œä½†æ˜¯ buildFullString è¿˜æ˜¯è¢«æ‰§è¡Œäº†ï¼Œè¿™æ ·å°±ç™½è´¹äº†åŠŸå¤«ã€‚

ä½†æ˜¯è¿™ä¸»è¦æ˜¯å› ä¸ºè¿‡å»çš„æŸäº›æ—¥å¿—æ¡†æ¶æ˜¯ä¸æ”¯æŒçš„å ä½ç¬¦ `{}` ï¼Œæ—¥å¿—æ˜¯è¿™æ ·è¾“å‡ºçš„ï¼š

```
LOGGER.debug("name "+ name);
```

ä¹Ÿå°±æ˜¯ç”¨æ‹¼æ¥å­—ç¬¦ä¸²çš„æ–¹å¼ã€‚è¿™æ ·åœ¨ç¨‹åºæ‰§è¡Œåˆ° LOGGER.debug() æ—¶è¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œä¼šå¸¦æ¥å¾ˆå¤šæ— æ„ä¹‰çš„æ€§èƒ½æŸè€—ã€‚å› æ­¤ï¼Œä»¥å‰çš„ç¨‹åºéƒ½ä¼šåœ¨å¤–é¢åŒ…ä¸€å±‚ if åˆ¤æ–­

ç”±äºè¿è¡Œè¿‡ç¨‹ä¸­ JIT ä¼šè¿›è¡Œè¯­å¥ä¼˜åŒ–ï¼Œå‘ç° LOGGER.isDebugEnabled() ä¸º false åï¼Œä¼šå°†æ•´ä¸ªè¯­å¥å—å»é™¤æ‰ã€‚è¿™æ ·ï¼Œå°±é¿å…äº†æ—¥å¿—çº§åˆ«å¤§äº debug æ—¶ä¼šè¿›è¡Œæ— æ„ä¹‰çš„å­—ç¬¦ä¸²æ‹¼æ¥äº†ã€‚

**ç›®å‰ä¸»æµçš„ä¸€äº›æ—¥å¿—æ¡†æ¶éƒ½å·²ç»æ”¯æŒç”¨å ä½ç¬¦çš„å½¢å¼è¾“å‡ºæ—¥å¿—ï¼Œå› æ­¤ï¼Œif åˆ¤æ–­å¸¦æ¥çš„æ€§èƒ½ä¼˜åŒ–æ•ˆæœå¹¶ä¸ä¼šå¤ªå¤§ã€‚**

<br>

##### Info

- ä¸€èˆ¬ç”¨äºåé¦ˆç³»ç»Ÿçš„å½“å‰çŠ¶æ€ç»™æœ€ç»ˆç”¨æˆ·ï¼Œæ‰€ä»¥è¿™é‡Œè¾“å‡ºçš„ä¿¡æ¯ï¼Œåº”è¯¥å¯¹æœ€ç»ˆç”¨æˆ·å…·æœ‰å®é™…æ„ä¹‰ï¼ˆæœ€ç»ˆç”¨æˆ·èƒ½æ˜ç™½å…¶å«ä¹‰ï¼‰ã€‚
- ä»æŸç§è§’åº¦ä¸Šè¯´ï¼Œ**Info è¾“å‡ºçš„ä¿¡æ¯å¯ä»¥çœ‹ä½œæ˜¯è½¯ä»¶äº§å“çš„ä¸€éƒ¨åˆ†**ï¼ˆå°±åƒé‚£äº›äº¤äº’ç•Œé¢ä¸Šçš„æ–‡å­—ä¸€æ ·ï¼‰ï¼Œæ‰€ä»¥éœ€è¦è°¨æ…å¯¹å¾…ã€‚

<br>

#####     Warnã€Errorã€Fatal

- Warnâ€”â€”è­¦å‘Šã€Errorâ€”â€”é”™è¯¯ã€Fatalâ€”â€”ä¸¥é‡é”™è¯¯
- æ‰€è°“è­¦å‘Šï¼Œåº”è¯¥æ˜¯è¿™ä¸ªæ—¶å€™è¿›è¡Œä¸€äº›ä¿®å¤æ€§çš„å·¥ä½œï¼Œåº”è¯¥è¿˜å¯ä»¥æŠŠç³»ç»Ÿæ¢å¤åˆ°æ­£å¸¸çŠ¶æ€ä¸­æ¥ï¼Œç³»ç»Ÿåº”è¯¥å¯ä»¥ç»§ç»­è¿è¡Œä¸‹å»ã€‚
- æ‰€è°“é”™è¯¯ï¼Œå°±æ˜¯è¯´å¯ä»¥è¿›è¡Œä¸€äº›ä¿®å¤æ€§çš„å·¥ä½œï¼Œä½†æ— æ³•ç¡®å®šç³»ç»Ÿä¼šæ­£å¸¸çš„å·¥ä½œä¸‹å»ï¼Œç³»ç»Ÿåœ¨ä»¥åçš„æŸä¸ªé˜¶æ®µï¼Œå¾ˆå¯èƒ½ä¼šå› ä¸ºå½“å‰çš„è¿™ä¸ªé—®é¢˜ï¼Œå¯¼è‡´ä¸€ä¸ªæ— æ³•ä¿®å¤çš„é”™è¯¯ï¼ˆä¾‹å¦‚å®•æœºï¼‰ï¼Œä½†ä¹Ÿå¯èƒ½ä¸€ç›´å·¥ä½œåˆ°åœæ­¢ä¹Ÿä¸å‡ºç°ä¸¥é‡é—®é¢˜ã€‚
- æ‰€è°“Fatalï¼Œé‚£å°±æ˜¯ç›¸å½“ä¸¥é‡çš„äº†ï¼Œå¯ä»¥è‚¯å®šè¿™ç§é”™è¯¯å·²ç»æ— æ³•ä¿®å¤ï¼Œå¹¶ä¸”å¦‚æœç³»ç»Ÿç»§ç»­è¿è¡Œä¸‹å»çš„è¯ï¼Œå¯ä»¥è‚¯å®šå¿…ç„¶ä¼šè¶Šæ¥è¶Šä¹±ã€‚è¿™æ—¶å€™é‡‡å–çš„æœ€å¥½çš„æªæ–½ä¸æ˜¯è¯•å›¾å°†ç³»ç»ŸçŠ¶æ€æ¢å¤åˆ°æ­£å¸¸ï¼Œè€Œæ˜¯å°½å¯èƒ½åœ°ä¿ç•™ç³»ç»Ÿæœ‰æ•ˆæ•°æ®å¹¶åœæ­¢è¿è¡Œã€‚
- ä¹Ÿå°±æ˜¯è¯´ï¼Œé€‰æ‹© Warnã€Errorã€Fatal ä¸­çš„å…·ä½“å“ªä¸€ä¸ªï¼Œæ˜¯æ ¹æ®å½“å‰çš„è¿™ä¸ªé—®é¢˜å¯¹ä»¥åå¯èƒ½äº§ç”Ÿçš„å½±å“è€Œå®šçš„ï¼Œå¦‚æœå¯¹ä»¥ååŸºæœ¬æ²¡ä»€ä¹ˆå½±å“ï¼Œä½¿ç”¨ Warnï¼›å¦‚æœè‚¯å®šä¼šå‡ºç°ä¸¥é‡é—®é¢˜ï¼Œåˆ™ä½¿ç”¨ Fatal ï¼›æ— æ³•ç¡®å®šå½±å“ï¼Œåˆ™ä½¿ç”¨ Errorã€‚

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
# å‰ç«¯

## â­•Nuxt å¼€å‘æ—¶æµè§ˆå™¨æ ‡ç­¾ä¸ªæ•°é™åˆ¶å¯¼è‡´å¡é¡¿

##### é—®é¢˜

![img](img/694926-20210226095732694-325392409.gif)

å¦‚å›¾æ‰€ç¤ºï¼Œå½“æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤ npm run dev æ„å»ºnuxté¡¹ç›®ä¹‹åï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€å¤šä¸ªæ ‡ç­¾é¡µä¼šå‡ºç°å¡æ­»æˆ–ä¸€ç›´è½¬åœˆçš„é—®é¢˜ã€‚å¹¶ä¸”åœ¨Chomeæµè§ˆå™¨æ§åˆ¶å°å’ŒVsCodeæ§åˆ¶å°éƒ½æ²¡æœ‰è¾“å‡ºä»»ä½•é”™è¯¯ä¿¡æ¯ã€‚

###### å®˜æ–¹è¯´æ˜

https://github.com/nuxt/nuxt.js/issues/8190#issuecomment-707059695

https://github.com/nuxt/nuxt.js/issues/6442

###### åŸå› æè¿°

è¿™æ˜¯å› ä¸ºChomeæµè§ˆå™¨å¯¹åŒä¸€ä¸ªä¸»æœºæœ‰è¿æ¥æ•°é™åˆ¶ï¼Œé»˜è®¤é“¾æ¥æ•°é‡æ˜¯5ã€‚

<br>

###### è§£å†³æ–¹æ³•

1. å¦‚æœä½¿ç”¨çš„æ˜¯ chome æµè§ˆå™¨ï¼Œæ˜¯æ²¡æ³•è§£å†³çš„ï¼Œchome æµè§ˆå™¨åŒä¸€ä¸ªä¸»æœºè¿æ¥æ•°é™åˆ¶æ˜¯ç¡¬ç¼–ç çš„æ²¡åŠæ³•ä¿®æ”¹ï¼Œé™¤éæ”¹ chome æµè§ˆå™¨æºç ã€‚
2. å¦‚æœä½¿ç”¨çš„æ˜¯ firefox æµè§ˆå™¨å¯ä»¥è¿›è¡Œä¿®æ”¹ï¼Œä¿®æ”¹æ–¹æ³•å¦‚ä¸‹ï¼šæ‰“å¼€FileFox->åœ¨æµè§ˆå™¨è¾“å…¥about:config->åœ¨æ–‡æœ¬æ¡†è¾“å…¥network.http.max-persistent-connections-per-server->é»˜è®¤æœ€å¤§è¿æ¥æ•°æ˜¯6ï¼Œæ”¹æˆ60ä¿å­˜

![img](img/694926-20210226100642025-1137347403.jpg)

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
# Spring

## PathPattern ä¸ AntPathMatcher

|          | PathPattern                          | AntPathMatcher   |
| -------- | ------------------------------------ | ---------------- |
| æ”¯æŒç‰ˆæœ¬ | Spring5                              | æ‰€æœ‰ Spring ç‰ˆæœ¬ |
| é€‚ç”¨ç¯å¢ƒ | Web ç¯å¢ƒ                             | æ‰€æœ‰åœºæ™¯         |
| ä¼˜ç‚¹     | æ‹¥æœ‰æ›´å¥½çš„ä½¿ç”¨ä½“éªŒä»¥åŠæ›´å¿«çš„åŒ¹é…æ•ˆç‡ | æ›´ä¸ºæ³›ç”¨         |



---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## â“BeanUtils



---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

# Spring MVC

## â“ä»è·¯å¾„ä¸­è·å–å‚æ•°

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
## ä»è¯·æ±‚å¤´ä¸­è·å–å‚æ•°

##### æ–¹å¼ä¸€ â€”â€” é€šè¿‡è¯·æ±‚å‚æ•° HttpServletRequest

```java
public String getUserInfo(HttpServletRequest request) {
    String token =  request.getHeader("token");
    return token;
}
```

<br>

##### æ–¹å¼äºŒ â€”â€” é€šè¿‡ @RequestHeader æ³¨è§£

###### ä¾‹

```java
@PostMapping("/deleteFile")
public String deleteFile(@RequestHeader("token")String token) {//è·å– token å¯¹åº”çš„è¯·æ±‚å¤´ä¿¡æ¯
    return urltoken;
}
```

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
## ä»è¯·æ±‚ä½“ä¸­è·å–å‚æ•°

```
    @PostMapping("/alterUserEmail")
    public R alterUserEmail(
            HttpServletRequest request,
            @RequestParam(name = "email")String email,
            @RequestParam(name = "code")String code){
        String ID = JwtUtils.getIdByJwtToken(request);
        userCheckService.alterUserEmail(ID,email,code);
        return R.ok();
    }
```



---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## â“SpringMVC ä¸æ”¯æŒåŒæ—¶ä¸Šä¼ æ–‡ä»¶å’Œä»è¯·æ±‚ä½“ä¸­è·å–æ•°æ®




---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
## ä½¿ç”¨ @RequestParam è·å–è¯·æ±‚å‚æ•°

##### ä¾‹â€”â€”ä½¿ç”¨ post è¯·æ±‚æ–¹å¼è·å–å‚æ•°

###### Vue

```js
//è·¯å¾„ api/test.js
import request from '@/utils/request'
export default {
  testRequestParam (data) {
    return request({
      url: `/testRequestParam`,
      method: 'post',
      data: data
    })
  }
}
```

```vue
//è·¯å¾„ page/test.vue
<template>
	<div/>
</template>
<script>
// å¼•å…¥ qsï¼ˆaxiosä¸­æœ‰qsåŒ…ï¼Œä¸éœ€è¦ npm insatll qsï¼Œç›´æ¥å¼•å…¥å³å¯ï¼‰
import qs from 'qs'
import testApi from '@/api/test'

export default {
    data () {
    	return {
            email:'xxxx@xx.com'
    	}
    }
    method
    submitAlterEmail () {
      // å°è£…æ•°æ®
      const data = { email: this.email }
      testApi.testRequestParam(qs.stringify(data))
        .then((response) => {
          alert(response.data.data.data)
        })
    }
```

###### åç«¯

```java
@PostMapping("/testRequestParam")// æ³¨æ„ï¼Œæ­¤æ—¶è¯·æ±‚æ–¹å¼å¿…é¡»æ˜¯ post
public R testRequestParam(@RequestParam(name = "email",required = false)String email){
    return R.ok().data("data",email);
}
```

<br>



##### ä¾‹â€”â€”ä½¿ç”¨ get è¯·æ±‚æ–¹å¼è·å–å‚æ•°

###### Vue

```js
//è·¯å¾„ api/test.js
import request from '@/utils/request'
export default {
  testRequestParam (data) {
    return request({
      url: `/testRequestParam`,
      method: 'post',
      params: data //ä½¿ç”¨ params æ¥æ”¶è¯·æ±‚å‚æ•°
    })
  }
}
```

```vue
//è·¯å¾„ page/test.vue
<template>
	<div/>
</template>
<script>
// å¼•å…¥ qsï¼ˆaxiosä¸­æœ‰qsåŒ…ï¼Œä¸éœ€è¦ npm insatll qsï¼Œç›´æ¥å¼•å…¥å³å¯ï¼‰
import qs from 'qs'
import testApi from '@/api/test'

export default {
    data () {
    	return {
            email:'xxxx@xx.com'
    	}
    }
    method
    submitAlterEmail () {
      // å°è£…æ•°æ®
      const data = { email: this.email }
      testApi.testRequestParam(d)
        .then((response) => {
          alert(response.data.data.data)
        })
    }
```

###### åç«¯

```java
@GetMapping("/testRequestParam")// æ³¨æ„ï¼Œæ­¤æ—¶è¯·æ±‚æ–¹å¼å¿…é¡»æ˜¯ post
public R testRequestParam(@RequestParam(name = "email",required = false)String email){
    return R.ok().data("data",email);
}
```

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
# SpringBoot

## MaxUploadSizeExceededException

##### SpringBoot å¯¹ä¸Šä¼ æ–‡ä»¶çš„å¤§å°è¿›è¡Œäº†é™åˆ¶ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å±æ€§è¿›è¡Œä¿®æ”¹

```yml
spring:
  servlet:
    multipart:
      # å•ä¸ªæ–‡ä»¶å¤§å°çš„é™åˆ¶
      max-file-size: 5MB 
      # ä¸€æ¬¡ä¸Šä¼ çš„å…¨éƒ¨æ–‡ä»¶æ€»å¤§å°çš„é™åˆ¶
      max-request-size: 20MB
```

<br>

---



# IDEA

## â“æ’ä»¶

##### Grep Console

<br>

##### Git Commit Template

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## â“çª—å£åŠŸèƒ½

##### Find

<br>

##### Git

<br>

##### ğŸ“ŒTODO

<br>

##### ğŸ“ŒProfiler

<br>

##### ğŸ“ŒBuild

<br>

##### ğŸ“ŒSpring

<br>

##### ğŸ“ŒStructure

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
# Element UI

## æ˜“é”™ç‚¹

##### åœ¨ Element UI ä¸­ä½¿ç”¨ä¸€èˆ¬çš„ HTML æ ‡ç­¾ï¼Œæ— æ³•å±…ä¸­

<br>

##### è°ƒæ•´ Element UI ç»„ä»¶æ ·å¼ï¼ˆå»é™¤ borderã€margin ç­‰ï¼‰

é€šè¿‡æµè§ˆå™¨çš„ **æ£€æŸ¥** åŠŸèƒ½ï¼ŒæŸ¥æ‰¾ç»„ä»¶å¯¹åº”çš„ CSS å±æ€§ï¼Œè¿›è¡Œä¿®æ”¹ã€‚

![image-20220120125235125](img/image-20220120125235125.png)

<br>

##### Element UI ç»„ä»¶ç›´æ¥ä½¿ç”¨ v-if ä¸ v-show ä¼šå‡ºç°é—®é¢˜

ä½¿ç”¨ div åµŒå¥—éœ€è¦  `v-if/v-show` çš„Element UI ç»„ä»¶ã€‚

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
# Vue

## VueX

##### ğŸ“Œåˆ·æ–°å store æ•°æ®æ¶ˆå¤±

åˆ·æ–°é¡µé¢æ—¶ï¼Œvue å®ä¾‹é‡æ–°åŠ è½½ï¼Œæ‰€ä»¥ store ä¹Ÿè¢«é‡ç½®äº†ã€‚

store æ˜¯ç”¨æ¥å­˜å‚¨ç»„ä»¶çŠ¶æ€çš„ï¼Œè€Œä¸æ˜¯ç”¨æ¥åšæœ¬åœ°æ•°æ®å­˜å‚¨çš„ã€‚æ‰€ä»¥ï¼Œå¯¹äºä¸å¸Œæœ›é¡µé¢åˆ·æ–°ä¹‹åè¢«é‡ç½®çš„æ•°æ®ï¼Œä½¿ç”¨æœ¬åœ°å­˜å‚¨æ¥è¿›è¡Œå­˜å‚¨ã€‚

<br>

##### Nuxt æ— æ³•åœ¨ JS æ–‡ä»¶ä¸­ä½¿ç”¨ store

<br>

##### ğŸ“Œè§£å†³æ–¹æ¡ˆâ€”â€”ä½¿ç”¨ store å­˜å‚¨ç”¨æˆ·ä¿¡æ¯

ç”±äº store æ•°æ®åˆ·æ–°åä¼šä¸¢å¤±ï¼Œæ‰€ä»¥å¯ä»¥åœ¨ created() ä¸­å‘é€è¯·æ±‚é‡æ–°è·å–ç”¨æˆ·ä¿¡æ¯ã€‚

<br>

---



<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## â“åˆ·æ–°å¯¼è‡´ v-if æ ‡ç­¾çš„é—ªçƒä¸å›¾ç‰‡é‡æ–°åŠ è½½



---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
## åœ¨é¡µé¢è·³è½¬ã€åˆ·æ–°æˆ–å…³é—­æ—¶æ‰§è¡Œæ–¹æ³•

##### é’©å­å‡½æ•° beforeDestroy()

`beforeDestroy()` ä¼šåœ¨é¡µé¢è·³è½¬å‰æ‰§è¡Œï¼ˆä»…é™é€šè¿‡è·¯ç”±è·³è½¬ï¼Ÿï¼‰

```vue
<template>
	<div/>
</template>

<script>
export default {
  beforeDestroy () {
    alert('ï¼ï¼ï¼')
  },
}
</script>
```

<br>

##### window.onbeforeunload

`onbeforeunload` äº‹ä»¶å¯ä»¥ç”¨åœ¨é¡µé¢åˆ·æ–°å‰ã€é¡µé¢å…³é—­å‰ï¼Œè¿›è¡Œæç¤ºåˆ¤æ–­ç­‰ç›¸å…³æ“ä½œã€‚

ä½†æ˜¯ï¼Œå¦‚æœé¡µé¢é¦–æ¬¡æ¸²æŸ“åä¸è¿›è¡Œä»»ä½•æ“ä½œç›´æ¥å…³é—­æµè§ˆå™¨ tab æˆ–è€…åˆ·æ–°ï¼Œæ­¤æ—¶é¡µé¢ä¸ä¼šæœ‰ä»»ä½•æç¤ºï¼Œ**åªæœ‰åœ¨é¡µé¢æ¸²æŸ“å®Œæ¯•ã€å¹¶å¯¹é¡µé¢è¿›è¡Œæ“ä½œåæ‰æœ‰æç¤ºæ•ˆæœ**ï¼Œå¦‚ï¼š

1. é¡µé¢åŠ è½½å®Œååœ¨é¡µé¢ç©ºç™½å¤„è¿›è¡Œä¸€æ¬¡ç‚¹å‡»ï¼Œå†æ‰§è¡Œ F5 åˆ·æ–°æˆ–æ‰§è¡Œå…³é—­ tab æ“ä½œæ—¶ï¼Œæµè§ˆå™¨æç¤ºçª—å£å¼¹å‡ºã€‚
2. ç›´æ¥ç‚¹å‡»é¡µé¢ä¸­çš„ `<a>` æ ‡ç­¾è¿›è¡Œé¡µé¢è·³è½¬ï¼Œæµè§ˆå™¨æç¤ºçª—å£å¼¹å‡ºã€‚

**æ³¨æ„**ï¼šæµè§ˆå™¨å°†ç»Ÿä¸€æ˜¾ç¤ºå¼¹å‡ºæ¡†ä¸­çš„æç¤ºæ¶ˆæ¯ï¼Œ å¦‚ Chrome å°†æ˜¾ç¤º â€œæ‚¨æ˜¯å¦è¦ç¦»å¼€æ­¤ç½‘ç«™ï¼Ÿæ‚¨æ‰€åšçš„æ›´æ”¹å¯èƒ½æ— æ³•ä¿å­˜â€

###### åœ¨ vue ä¸­ä½¿ç”¨ window.onbeforeunload

```vue
<template>
	<div/>
</template>

<script>
export default {
  beforeDestroy () {
    window.onbeforeunload = function (e) { // åˆ·æ–°ä¸å…³é—­æ—¶å¼¹å‡ºæç¤º
      e = e || window.event
      // å…¼å®¹IE8å’ŒFirefox 4ä¹‹å‰çš„ç‰ˆæœ¬
      if (e) {
        e.returnValue = 'å…³é—­æç¤º'
      }
      // Chrome, Safari, Firefox 4+, Opera 12+ , IE 9+
      return 'å…³é—­æç¤º'
    }
  },
}
</script>

```

- åœ¨å…³é—­é¡µé¢æˆ–æµè§ˆå™¨æ—¶ï¼Œä¼šå¼¹å‡ºæç¤ºã€‚
- `window.onbeforeunload` é¡µå¯ä»¥åœ¨å…¶ä»–é’©å­å‡½æ•°ï¼ˆ`mount()` æˆ– `beforeRouteLeave()` ä½¿ç”¨ï¼‰
- `window.onbeforeunload()` æ— æ³•è¯»å– Vue ä¸­å®šä¹‰çš„å€¼ä¸å‡½æ•°ï¼Œåªèƒ½ä½¿ç”¨åŸç”Ÿ ajax å‘é€è¯·æ±‚ï¼Œæ•°æ®éœ€è¦å…ˆé€šè¿‡ cookie æˆ–è€… localstorage ä¿å­˜ï¼Œæ‰èƒ½åœ¨ `window.onbeforeunload()` ä¸­è·å–ã€‚

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## ä½¿ç”¨ axios ä¸Šä¼ æ–‡ä»¶

##### API

```js
import request from '@/utils/request'

const ApiName = '/oss/aliyun-oss'
export default {
  // ä¸Šä¼ æ–‡ä»¶åˆ°ä¸´æ—¶ç›®å½•
  uploadFileTemporary (file) {
    return request({
      url: `${ApiName}/uploadFileTemporary`,
      method: 'post',
      data: file,
      headers: {
        'content-type': 'multipart/form-data; boundary=<calculated when request is sent>'
      }
    })
  }

}

```

```js
<el-upload
  class="avatar-uploader"
  action="fakeaction"
  :http-request="uploadAvatar" ï¼ï¼ï¼ï¼é€šè¿‡ http-requestï¼Œè¦†ç›–é»˜è®¤çš„ä¸Šä¼ è¡Œä¸ºï¼Œè‡ªå®šä¹‰ä¸Šä¼ çš„å®ç°
  :show-file-list="false"
  :on-success="handleAvatarSuccess"
  :before-upload="beforeAvatarUpload">
  <img v-if="imageUrl" :src="imageUrl" class="avatar">
  <i v-else class="el-icon-plus avatar-uploader-icon"></i>
</el-upload>

<style>
  .avatar-uploader .el-upload {
    border: 1px dashed #d9d9d9;
    border-radius: 6px;
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }
  .avatar-uploader .el-upload:hover {
    border-color: #409EFF;
  }
  .avatar-uploader-icon {
    font-size: 28px;
    color: #8c939d;
    width: 178px;
    height: 178px;
    line-height: 178px;
    text-align: center;
  }
  .avatar {
    width: 178px;
    height: 178px;
    display: block;
  }
</style>

<script>
  export default {
    data() {
      return {
        imageUrl: ''
      };
    },
    methods: {
      handleAvatarSuccess(res, file) {
        this.imageUrl = URL.createObjectURL(file.raw);
      },
      beforeAvatarUpload(file) {
        const isJPG = file.type === 'image/jpeg';
        const isLt2M = file.size / 1024 / 1024 < 2;

        if (!isJPG) {
          this.$message.error('ä¸Šä¼ å¤´åƒå›¾ç‰‡åªèƒ½æ˜¯ JPG æ ¼å¼!');
        }
        if (!isLt2M) {
          this.$message.error('ä¸Šä¼ å¤´åƒå›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 2MB!');
        }
        return isJPG && isLt2M;
      },
      // è‡ªå®šä¹‰ä¸Šä¼ çš„å®ç°
      uploadAvatar (params) {
      	const data = new FormData()
      	// åˆ›å»ºä¸€ä¸ªè¡¨å•æ•°æ®
      	data.append('file', params.file)
      	ossApi.uploadFileTemporary(data).then((response) => {
      	  if (response.data.code === 20000) {
      	    // æç¤ºä¿®æ”¹æˆåŠŸ
      	    this.$message({
      	      type: 'success',
      	      message: 'å¤´åƒä¸Šä¼ æˆåŠŸ'
      	    })
      	    this.imageUrl = response.data.data.url
      	  } else {
      	    this.$message.error('å¤´åƒä¸Šä¼ å¤±è´¥')
      	  }
      	})
       }
    }
  }
</script>
// ä¸Šä¼ å¤´åƒ
    
```

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
## ä½¿ç”¨ window.logcation.href åˆ·æ–°æ‰€æœ‰ç»„ä»¶çŠ¶æ€

##### ä½¿ç”¨ window.logcation.href è·³è½¬é¡µé¢,å¯ä»¥åˆ·æ–°æ‰€æœ‰ç»„ä»¶çŠ¶æ€

å¯¹é¡µé¢çš„ä¸€éƒ¨åˆ†ç»„ä»¶è¿›è¡Œä¿®æ”¹åï¼Œå¦‚æœéœ€è¦æ›´æ–°æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨  `window.logcation.href` ã€‚

###### å®ä¾‹

åœ¨ <u>è®¾ç½®é¡µé¢</u> é‡è®¾ç”¨æˆ·ä¿¡æ¯åï¼Œå¯ä»¥é€šè¿‡ `window.logcation.href` åˆ·æ–°é¡µé¢ï¼Œä»è€Œä½¿å¯¼èˆªæ çš„ç”¨æˆ·ä¿¡æ¯ä¹Ÿè¢«åˆ·æ–°ã€‚

---

```
<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
```

## ä½¿ç”¨ mavon-editor markdownç¼–è¾‘å™¨



---

```
<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
```

## ä½¿ç”¨ Markdown-It è§£æ markdown



---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## ä½¿ç”¨ vue-dompurify-html è§£å†³ v-html æ ‡ç­¾çš„ XSS æ”»å‡»é—®é¢˜



---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
# Nuxt

##### å…¨å±€å¼•å…¥ CSS

https://blog.csdn.net/qq_45315910/article/details/109466890

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

# CSS

# Normalize.css

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## å¸ƒå±€ display ä¸positon

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
## js-cookie

domain å±æ€§è®¾ç½®ä¸ä¸è®¾ç½®çš„åŒºåˆ«

- è®¾ç½® cookie æ—¶æ˜ç¡®æŒ‡å®š domain åŸŸåï¼Œå­åŸŸåå¯è¯»å–ï¼ˆå­åŸŸå…±äº«è¯¥cookieï¼‰ï¼Œåˆ é™¤æ—¶åˆ™ä¹Ÿå¿…é¡»æ˜ç¡®æŒ‡å®šåŸŸåï¼Œå¦åˆ™æ— æ³•åˆ é™¤ã€‚
- è®¾ç½® cookie æ—¶ä¸æŒ‡å®šåŸŸåï¼Œä½¿ç”¨é»˜è®¤å€¼ï¼Œåˆ™è¡¨ç¤ºåªæœ‰å½“å‰åŸŸåå¯è§ï¼ˆå­åŸŸä¸å¯å…±äº«ï¼‰ã€‚åˆ é™¤æ—¶ä¹Ÿä¸éœ€è¦æŒ‡å®šåŸŸåï¼Œå¦åˆ™æ— æ³•åˆ é™¤ã€‚

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## Nuxt éƒ¨ç½²åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šéƒ¨ç½²æ—¶æ— æ³•è¢«å¤–éƒ¨è®¿é—®

ä¿®æ”¹ package.jsonï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```bash
"config":{
   "nuxt":{
     "host":"0.0.0.0",
     "port":"9932"
   }
 },
```

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## Feign è°ƒç”¨çš„æ–¹æ³•æ˜¯ get æ–¹æ³•æ—¶è°ƒç”¨ä¸åˆ°æ¥å£çš„é—®é¢˜

Feign è°ƒç”¨æ—¶é»˜è®¤çš„è¯·æ±‚æ–¹å¼æ˜¯postè¯·æ±‚ï¼Œæ‰€ä»¥å¦‚æœæ˜¯è¦è°ƒç”¨çš„è¯·æ±‚ä¸ºgetè¯·æ±‚ï¼Œå¹¶ä¸”æœ‰å‚æ•°ä¼ é€’æ—¶çš„è§£å†³æ–¹æ³•ï¼š

1. åœ¨è°ƒç”¨çš„æ¥å£ä¸Šéœ€è¦ç»™å‚æ•°æ·»åŠ  @RequestParam æ³¨è§£

```
@RequestMapping(value = â€œ/cust-archivesâ€, method = RequestMethod.GET)
public List query(@RequestHeader(name="Range,required="true")String range)n;
```

ï¼ˆ2ï¼‰è¢«è°ƒç”¨çš„æ¥å£çš„å‚æ•°ä½¿ç”¨restfulé£æ ¼çš„å½¢å¼ç›´æ¥æ‹¼æ¥å‚æ•°ï¼Œç»™è°ƒç”¨æ¥å£çš„å‚æ•°æ·»åŠ @PathVariableæ³¨è§£ï¼Œ

ï¼ˆ3ï¼‰ä½¿ç”¨jsonä¼ å€¼çš„æ–¹å¼è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œç»™è°ƒç”¨çš„æ–¹æ³•çš„å‚æ•°æ·»åŠ RequestBody

ï¼ˆ4ï¼‰å¦‚æœéœ€è¦ä¼ è¯·æ±‚å¤´ä¿¡æ¯ï¼Œéœ€è¦åœ¨è°ƒç”¨çš„æ¥å£ä¸­æ·»åŠ ä¸€ä¸ªå‚æ•°ï¼Œå¹¶ç»™å‚æ•°åŠ ä¸Š@RequestHeader(name=â€œRangeâ€,required=true)æ³¨è§£

<br>

-----

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## HTTPS è®¿é—®

<br>

---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>

## ğŸ“Œæ‰‹åŠ¨ä¸‹è½½ docker-compose 

å› ä¸ºä½¿ç”¨ curl å‘½ä»¤ä¸‹è½½ docker-compose è¿‡æ…¢ï¼Œæ‰€ä»¥ç›´æ¥ä»å®˜ç½‘ä¸‹è½½äº†äºŒè¿›åˆ¶æ–‡ä»¶ä¸Šä¼ éƒ½äº‘æœåŠ¡å™¨ä¸Šã€‚ä½†æ˜¯ä¸Šä¼ æ—¶äºŒè¿›åˆ¶æ–‡ä»¶æœªæ”¹åï¼Œä¾ç„¶æ˜¯ docker-compose-linux-x86_64ï¼Œæ‰€ä»¥ä½¿ç”¨ docker-compose å‘½ä»¤æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ `docker-compose-linux-x86_64 ã€å…·ä½“å‘½ä»¤å‚æ•°ã€‘` çš„å½¢å¼



---

<div STYLE="page-break-after: always;">
    <br>
	<br>
	<br>
	<br>
	<br>
</div>
